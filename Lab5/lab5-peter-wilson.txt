ESTIMATE: 12hrs
----------------------------------------------------------------------------------------
Date	    StTime	    TimeSp	    LabPrt	    Work Completed
11/29/25    10:30pm	    1:30	    1	        Reading over the instructions and Team's code
11/30/25    01:30am	    2:00	    1	        Fixing bugs in reference count code and added PTE_COW flag.
12/2/25     07:00pm     5:00        1           trying to test code before adding in copyout code
12/4/25     2:30pm      ????        1           added copyout code and trying to figure out memory free bug

-----------------------------------------------------------------------------------------
TOTAL: 8hrs

Difficulties:
- E1: refmgr is never defined. Is it supposed to be a structure name like kmem is?
    - Defined the structure. Can be better if it is consolidated into kmem
- E1: Question: does return 0 kill the process when running vmfault()
- E1: Question: The PTE_COW flag is being used for dertrminig if a page is COW but the Lab says to use PTE_RSW
- E1: Question: There are more than one definition for kref_inc and kref_dec in kalloc.c. Is this intentional?
- E1: Question: is the lab section for copyout() asking us to have copyout() allocate a new page when it finds a COW or that it should return -1 if the page is not already newly allocated?
- E1: make file error make: *** No rule to make target 'mkfs/mkfs.c', needed by 'mkfs/mkfs'.  Stop.
    - removed mkfs from .gitignore file
    - The lab in the repo got corrupted and removed files so we had to reclone the xv6 and migrate the code.
- E1: usertrap is causing a panic:
    usertrap(): unexpected scause 0xf pid=3
                sepc=0x854 stval=0x4f88
    usertrap(): unexpected scause 0xf pid=2
                sepc=0x2 stval=0x4f88
    usertrap(): unexpected scause 0xf pid=1
                sepc=0x77a stval=0x3f68
    panic: init exiting
    - We did not give the parent and child the PTE_COW flag in uvmcopy_cow
- E1: the simple test #2 is causing a usertrap due to the memory not properly freeing:
    - Was due to kmem and refmgr in kfree not being checked correctly
- E1: copyout not working on usertests
    - was a problem with uvmcopy_cow not using flags right
- E1: reparent2 test is giving usertrap
    test reparent2: usertrap(): unexpected scause 0xf pid=3114
            sepc=0x519e stval=0x11e48
    usertrap(): unexpected scause 0xf pid=16
            sepc=0x519e stval=0x11e68


Summary
This project has been very chaotic. We only really got to have time to work on this together after break which put us behind.
Then after we got some code made it ended up corrupting somehow so we had to do some version recovery to fix that.
Then we had a lot of debugging of the code we made and updated it properly.
It was very difficult and we unforunatly got stuck for multiple hours on the reparent2 test and could not figure out how to fix it.
This lab has been very enlighening and difficult but I enjoyed learning more about OS.
I wish we could have gotten past reparent2, I bet the other tests would have worked if we just got past reparent2.



